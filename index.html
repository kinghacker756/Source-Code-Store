<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DARK-TECH-ZONE | Premium Tools</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --dark: #0c0e2a;
            --darker: #070917;
            --light: #f1f1f1;
            --gray: #a0a0d0;
            --card-bg: rgba(25, 28, 60, 0.8);
            --success: #00d26a;
            --danger: #ff3860;
            --warning: #ffbd2e;
        }
        
        body {
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }
        
        /* Header Styles */
        header {
            text-align: center;
            padding: 40px 0;
            background: rgba(16, 18, 42, 0.8);
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .logo {
            font-size: 4rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            letter-spacing: 3px;
            text-shadow: 0 5px 15px rgba(106, 17, 203, 0.3);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .logo-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.4);
        }
        
        .tagline {
            font-size: 1.3rem;
            color: var(--gray);
            margin-bottom: 25px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .security-notice {
            background: rgba(255, 189, 46, 0.15);
            padding: 15px;
            border-radius: 10px;
            max-width: 700px;
            margin: 0 auto;
            border-left: 4px solid var(--warning);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .get-key-section {
            margin: 30px auto;
            text-align: center;
            max-width: 600px;
        }
        
        .get-key-btn {
            background: linear-gradient(45deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .get-key-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(106, 17, 203, 0.5);
        }
        
        /* Tools Grid */
        .section-title {
            font-size: 2rem;
            text-align: center;
            margin: 40px 0 30px;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 25%;
            width: 50%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .tool-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: 0.5s;
        }
        
        .tool-card:hover::before {
            left: 100%;
        }
        
        .tool-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            background: rgba(33, 36, 75, 0.9);
        }
        
        .tool-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, var(--primary) 0%, var(--secondary) 100%);
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.4);
            font-size: 2.5rem;
            color: white;
            overflow: hidden;
        }
        
        .tool-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .tool-name {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #fff;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .tool-desc {
            font-size: 1rem;
            color: var(--gray);
            margin-bottom: 20px;
            flex-grow: 1;
        }
        
        .access-key-hint {
            font-size: 0.9rem;
            color: var(--warning);
            margin-top: 10px;
            font-style: italic;
        }
        
        .tool-footer {
            margin-top: auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .tool-access {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .access-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--danger);
        }
        
        .access-indicator.unlocked {
            background: var(--success);
        }
        
        .coming-soon {
            position: relative;
            opacity: 0.7;
        }
        
        .coming-soon::after {
            content: 'COMING SOON';
            position: absolute;
            top: 10px;
            right: -30px;
            background: var(--danger);
            color: white;
            padding: 5px 30px;
            transform: rotate(45deg);
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(255, 56, 96, 0.5);
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 40px 0;
            background: rgba(16, 18, 42, 0.8);
            border-radius: 20px;
            margin-top: 50px;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .copyright {
            font-size: 1.1rem;
            color: var(--gray);
            margin-bottom: 10px;
        }
        
        .powered-by {
            font-size: 1rem;
            color: #6a7c94;
        }
        
        .powered-by a {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 600;
        }
        
        .powered-by a:hover {
            text-decoration: underline;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: rgba(25, 28, 60, 0.95);
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: modalAppear 0.4s ease;
        }
        
        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .modal h3 {
            margin-bottom: 20px;
            color: #fff;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .modal p {
            margin-bottom: 25px;
            color: var(--gray);
            font-size: 1.1rem;
        }
        
        .key-input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid var(--secondary);
            background: rgba(16, 18, 42, 0.8);
            color: #fff;
            font-size: 1.1rem;
            margin-bottom: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .key-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(106, 17, 203, 0.5);
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--gray);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.3);
        }
        
        .error-message {
            color: var(--danger);
            margin-top: 10px;
            font-size: 1rem;
            display: none;
        }
        
        .hint {
            color: var(--secondary);
            font-size: 0.95rem;
            margin-bottom: 15px;
            font-style: italic;
        }
        
        .key-instructions {
            background: rgba(255, 189, 46, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 3px solid var(--warning);
        }
        
        /* Admin Panel Styles */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .admin-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(16, 18, 42, 0.9);
            border-radius: 15px;
        }
        
        .admin-title {
            font-size: 2.5rem;
            background: linear-gradient(45deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .admin-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .admin-tab {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .admin-tab.active {
            background: var(--primary);
        }
        
        .admin-content {
            background: rgba(16, 18, 42, 0.8);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .admin-section {
            display: none;
        }
        
        .admin-section.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .tool-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .tool-item {
            background: rgba(25, 28, 60, 0.8);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tool-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-sm {
            padding: 8px 15px;
            font-size: 0.9rem;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .color-picker {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .color-option.active {
            border-color: white;
        }
        
        .admin-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        /* Icon Management Styles */
        .icon-preview {
            width: 100px;
            height: 100px;
            margin: 15px auto;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .icon-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .icon-preview i {
            font-size: 3rem;
            color: var(--primary);
        }
        
        .icon-options {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .icon-option {
            flex: 1;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .icon-option.active {
            background: rgba(106, 17, 203, 0.3);
            border: 1px solid var(--primary);
        }
        
        .icon-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .upload-area {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            border-color: var(--primary);
            background: rgba(106, 17, 203, 0.1);
        }
        
        .upload-area i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--gray);
        }
        
        .fa-icon-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 10px;
            max-height: 200px;
            overflow-y: auto;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .fa-icon-option {
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .fa-icon-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .fa-icon-option.active {
            background: var(--primary);
        }
        
        .fa-icon-option i {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        /* Music Player Styles */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(16, 18, 42, 0.9);
            border-radius: 50px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 100;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .music-controls {
            display: flex;
            gap: 10px;
        }
        
        .music-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .music-btn:hover {
            transform: scale(1.1);
            background: var(--secondary);
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .volume-slider {
            width: 80px;
        }
        
        /* Admin Submenu Styles */
        .admin-submenu {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .admin-submenu-item {
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .admin-submenu-item.active {
            background: var(--primary);
        }
        
        .tool-item {
            position: relative;
        }
        
        .tool-position-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
        }
        
        .position-btn {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .position-btn:hover {
            background: var(--primary);
        }
        
        .tool-category {
            display: inline-block;
            padding: 3px 8px;
            background: var(--primary);
            border-radius: 4px;
            font-size: 0.8rem;
            margin-left: 10px;
        }
        
        .tool-status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-left: 10px;
        }
        
        .status-active {
            background: var(--success);
        }
        
        .status-inactive {
            background: var(--danger);
        }
        
        .search-box {
            margin-bottom: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: rgba(25, 28, 60, 0.8);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .access-log {
            max-height: 300px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
        }
        
        .log-entry {
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }
        
        .log-entry:last-child {
            border-bottom: none;
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .tools-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }
        
        @media (max-width: 992px) {
            .logo {
                font-size: 3rem;
            }
            
            .tools-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            
            .admin-tabs {
                flex-direction: column;
            }
        }
        
        @media (max-width: 768px) {
            .logo {
                font-size: 2.5rem;
                flex-direction: column;
            }
            
            .logo-img {
                width: 50px;
                height: 50px;
            }
            
            .tools-grid {
                grid-template-columns: repeat(auto-fill, minmax(100%, 1fr));
                gap: 20px;
            }
            
            .modal-content {
                padding: 30px 20px;
            }
            
            .modal-buttons {
                flex-direction: column;
            }
            
            .tool-footer {
                flex-direction: column;
                gap: 15px;
            }
            
            .icon-options {
                flex-direction: column;
            }
            
            .music-player {
                bottom: 10px;
                right: 10px;
                padding: 8px 15px;
            }
            
            .volume-slider {
                width: 60px;
            }
        }
        
        @media (max-width: 480px) {
            .logo {
                font-size: 2rem;
            }
            
            .tool-name {
                font-size: 1.2rem;
            }
            
            .section-title {
                font-size: 1.7rem;
            }
            
            .admin-title {
                font-size: 2rem;
            }
            
            .fa-icon-selector {
                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            }
            
            .music-player {
                flex-direction: column;
                width: auto;
                border-radius: 15px;
            }
            
            .volume-control {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Music Player -->
    <div class="music-player" id="musicPlayer">
        <div class="music-controls">
            <button class="music-btn" id="playPauseBtn">
                <i class="fas fa-play"></i>
            </button>
            <button class="music-btn" id="stopBtn">
                <i class="fas fa-stop"></i>
            </button>
        </div>
        <div class="volume-control">
            <i class="fas fa-volume-up"></i>
            <input type="range" min="0" max="100" value="50" class="volume-slider" id="volumeSlider">
        </div>
    </div>

    <div class="container">
        <header>
            <h1 class="logo" id="adminTrigger">
                <img id="websiteLogo" class="logo-img" src="" alt="DARK-TECH-ZONE Logo">
                <span id="websiteTitle">DARK-TECH-ZONE</span>
            </h1>
            <p class="tagline" id="websiteTagline">Premium Tools with Advanced Security - Unlock with Individual Access Keys</p>
            <div class="security-notice">
                <i class="fas fa-shield-alt"></i> Access keys are hidden for security purposes
            </div>
            
            <div class="get-key-section">
                <p>Get access keys for all tools by joining our WhatsApp channel</p>
                <button class="get-key-btn" id="getKeyBtn">
                    <i class="fab fa-whatsapp"></i> Get Access Keys
                </button>
            </div>
        </header>
        
        <h2 class="section-title">Available Tools</h2>
        <div class="tools-grid" id="availableTools">
            <!-- Available tools will be generated by JavaScript -->
        </div>
        
        <h2 class="section-title">Coming Soon</h2>
        <div class="tools-grid" id="comingSoonTools">
            <!-- Coming soon tools will be generated by JavaScript -->
        </div>
        
        <footer>
            <p class="copyright">Â© 2023 DARK-TECH-ZONE. All rights reserved.</p>
            <p class="powered-by">Powered by <a href="#">Hassnain Ali</a></p>
        </footer>
    </div>

    <!-- Access Key Modal -->
    <div class="modal" id="accessModal">
        <div class="modal-content">
            <h3><i class="fas fa-lock"></i> Access Required</h3>
            <p id="toolName">Please enter the access key for this tool:</p>
            
            <div class="key-instructions">
                <i class="fas fa-info-circle"></i> Access keys are available on our WhatsApp channel
            </div>
            
            <input type="password" class="key-input" id="accessKeyInput" placeholder="Enter access key">
            <p class="error-message" id="errorMessage">Incorrect access key. Please try again.</p>
            
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="cancelBtn">Cancel</button>
                <button class="btn btn-primary" id="getKeyModalBtn">
                    <i class="fab fa-whatsapp"></i> Get Key
                </button>
                <button class="btn btn-primary" id="submitBtn">Submit</button>
            </div>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div class="admin-panel" id="adminPanel">
        <div class="container">
            <div class="admin-header">
                <h2 class="admin-title">DARK-TECH-ZONE Admin Panel</h2>
                <p>Full control over your tools and website</p>
            </div>
            
            <div class="admin-tabs">
                <div class="admin-tab active" data-tab="dashboard">Dashboard</div>
                <div class="admin-tab" data-tab="tools">Manage Tools</div>
                <div class="admin-tab" data-tab="customize">Customize Website</div>
                <div class="admin-tab" data-tab="icons">Icon Management</div>
                <div class="admin-tab" data-tab="analytics">Analytics</div>
                <div class="admin-tab" data-tab="settings">Admin Settings</div>
            </div>
            
            <div class="admin-content">
                <!-- Dashboard Section -->
                <div class="admin-section active" id="dashboard-section">
                    <h3>Dashboard Overview</h3>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-tools fa-2x"></i>
                            <div class="stat-value" id="totalTools">0</div>
                            <div class="stat-label">Total Tools</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-check-circle fa-2x"></i>
                            <div class="stat-value" id="activeTools">0</div>
                            <div class="stat-label">Active Tools</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-clock fa-2x"></i>
                            <div class="stat-value" id="comingSoonToolsCount">0</div>
                            <div class="stat-label">Coming Soon</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-users fa-2x"></i>
                            <div class="stat-value" id="totalAccesses">0</div>
                            <div class="stat-label">Total Accesses</div>
                        </div>
                    </div>
                    
                    <h4>Recent Access Logs</h4>
                    <div class="access-log" id="accessLog">
                        <!-- Access logs will be populated here -->
                    </div>
                </div>
                
                <!-- Tools Management Section -->
                <div class="admin-section" id="tools-section">
                    <h3>Tools Management</h3>
                    
                    <div class="admin-submenu">
                        <div class="admin-submenu-item active" data-subtab="add-tool">Add New Tool</div>
                        <div class="admin-submenu-item" data-subtab="manage-tools">Manage Existing Tools</div>
                        <div class="admin-submenu-item" data-subtab="categories">Tool Categories</div>
                    </div>
                    
                    <!-- Add New Tool Subsection -->
                    <div class="admin-subsection active" id="add-tool-subsection">
                        <div class="form-group">
                            <label for="toolNameInput">Tool Name</label>
                            <input type="text" class="form-control" id="toolNameInput" placeholder="Enter tool name">
                        </div>
                        
                        <div class="form-group">
                            <label for="toolDescInput">Tool Description</label>
                            <textarea class="form-control" id="toolDescInput" placeholder="Enter tool description"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="toolKeyInput">Access Key</label>
                            <input type="text" class="form-control" id="toolKeyInput" placeholder="Enter access key">
                        </div>
                        
                        <div class="form-group">
                            <label for="toolLinkInput">Tool Link</label>
                            <input type="text" class="form-control" id="toolLinkInput" placeholder="Enter tool URL">
                        </div>
                        
                        <div class="form-group">
                            <label for="toolCategoryInput">Tool Category</label>
                            <select class="form-control" id="toolCategoryInput">
                                <option value="general">General</option>
                                <option value="development">Development</option>
                                <option value="security">Security</option>
                                <option value="utilities">Utilities</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="isComingSoon"> Mark as Coming Soon
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="isActive" checked> Active
                            </label>
                        </div>
                        
                        <button class="btn btn-primary" id="addToolBtn">Add Tool</button>
                    </div>
                    
                    <!-- Manage Existing Tools Subsection -->
                    <div class="admin-subsection" id="manage-tools-subsection">
                        <div class="search-box">
                            <input type="text" class="form-control" id="toolSearchInput" placeholder="Search tools...">
                        </div>
                        
                        <div class="tool-list" id="adminToolList">
                            <!-- Tools will be listed here -->
                        </div>
                    </div>
                    
                    <!-- Tool Categories Subsection -->
                    <div class="admin-subsection" id="categories-subsection">
                        <h4>Manage Categories</h4>
                        <p>Categories help organize your tools. You can assign categories to tools for better organization.</p>
                        
                        <div class="form-group">
                            <label for="newCategoryInput">Add New Category</label>
                            <input type="text" class="form-control" id="newCategoryInput" placeholder="Enter category name">
                            <button class="btn btn-primary" id="addCategoryBtn" style="margin-top: 10px;">Add Category</button>
                        </div>
                        
                        <div id="categoriesList">
                            <!-- Categories will be listed here -->
                        </div>
                    </div>
                </div>
                
                <!-- Customize Website Section -->
                <div class="admin-section" id="customize-section">
                    <h3>Website Customization</h3>
                    
                    <div class="form-group">
                        <label for="siteTitleInput">Website Title</label>
                        <input type="text" class="form-control" id="siteTitleInput" placeholder="Enter website title">
                    </div>
                    
                    <div class="form-group">
                        <label for="siteTaglineInput">Website Tagline</label>
                        <input type="text" class="form-control" id="siteTaglineInput" placeholder="Enter website tagline">
                    </div>
                    
                    <div class="form-group">
                        <label>Primary Color</label>
                        <div class="color-picker">
                            <div class="color-option active" style="background: #6a11cb;" data-color="#6a11cb"></div>
                            <div class="color-option" style="background: #2575fc;" data-color="#2575fc"></div>
                            <div class="color-option" style="background: #00d26a;" data-color="#00d26a"></div>
                            <div class="color-option" style="background: #ff3860;" data-color="#ff3860"></div>
                            <div class="color-option" style="background: #ffbd2e;" data-color="#ffbd2e"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Secondary Color</label>
                        <div class="color-picker">
                            <div class="color-option" style="background: #2575fc;" data-color="#2575fc"></div>
                            <div class="color-option active" style="background: #6a11cb;" data-color="#6a11cb"></div>
                            <div class="color-option" style="background: #00d26a;" data-color="#00d26a"></div>
                            <div class="color-option" style="background: #ff3860;" data-color="#ff3860"></div>
                            <div class="color-option" style="background: #ffbd2e;" data-color="#ffbd2e"></div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" id="saveCustomizationBtn">Save Customization</button>
                </div>
                
                <!-- Icon Management Section -->
                <div class="admin-section" id="icons-section">
                    <h3>Website Logo</h3>
                    
                    <div class="icon-preview" id="websiteLogoPreview">
                        <i class="fas fa-cog"></i>
                    </div>
                    
                    <div class="icon-options">
                        <div class="icon-option active" data-type="fa">
                            <i class="fas fa-icons"></i>
                            <p>Font Awesome</p>
                        </div>
                        <div class="icon-option" data-type="upload">
                            <i class="fas fa-upload"></i>
                            <p>Upload Image</p>
                        </div>
                        <div class="icon-option" data-type="url">
                            <i class="fas fa-link"></i>
                            <p>Image URL</p>
                        </div>
                    </div>
                    
                    <div class="icon-content" id="fa-icon-content">
                        <div class="fa-icon-selector" id="faIconSelector">
                            <!-- Font Awesome icons will be populated here -->
                        </div>
                    </div>
                    
                    <div class="icon-content" id="upload-icon-content" style="display: none;">
                        <div class="upload-area" id="logoUploadArea">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to upload or drag and drop</p>
                            <p>PNG, JPG, GIF up to 5MB</p>
                            <input type="file" id="logoUploadInput" accept="image/*" style="display: none;">
                        </div>
                    </div>
                    
                    <div class="icon-content" id="url-icon-content" style="display: none;">
                        <div class="form-group">
                            <label for="logoUrlInput">Image URL</label>
                            <input type="text" class="form-control" id="logoUrlInput" placeholder="Enter image URL">
                        </div>
                        <button class="btn btn-secondary" id="loadLogoUrlBtn">Load Image</button>
                    </div>
                    
                    <button class="btn btn-primary" id="saveLogoBtn" style="margin-top: 20px;">Save Logo</button>
                    
                    <h3 style="margin-top: 40px;">Tool Icons</h3>
                    <p>Tool icons can be set individually when adding or editing tools in the "Manage Tools" section.</p>
                </div>
                
                <!-- Analytics Section -->
                <div class="admin-section" id="analytics-section">
                    <h3>Website Analytics</h3>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-eye fa-2x"></i>
                            <div class="stat-value" id="totalViews">0</div>
                            <div class="stat-label">Total Views</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-mouse-pointer fa-2x"></i>
                            <div class="stat-value" id="totalClicks">0</div>
                            <div class="stat-label">Total Clicks</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-user fa-2x"></i>
                            <div class="stat-value" id="uniqueVisitors">0</div>
                            <div class="stat-label">Unique Visitors</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-chart-line fa-2x"></i>
                            <div class="stat-value" id="conversionRate">0%</div>
                            <div class="stat-label">Conversion Rate</div>
                        </div>
                    </div>
                    
                    <h4>Most Popular Tools</h4>
                    <div id="popularToolsList">
                        <!-- Popular tools will be listed here -->
                    </div>
                </div>
                
                <!-- Admin Settings Section -->
                <div class="admin-section" id="settings-section">
                    <h3>Admin Settings</h3>
                    
                    <div class="form-group">
                        <label for="adminKeyInput">Admin Access Key</label>
                        <input type="text" class="form-control" id="adminKeyInput" placeholder="Enter new admin access key">
                    </div>
                    
                    <div class="form-group">
                        <label for="whatsappLinkInput">WhatsApp Channel Link</label>
                        <input type="text" class="form-control" id="whatsappLinkInput" placeholder="Enter WhatsApp channel link">
                    </div>
                    
                    <div class="form-group">
                        <label for="musicEnabled">
                            <input type="checkbox" id="musicEnabled" checked> Enable Background Music
                        </label>
                    </div>
                    
                    <button class="btn btn-primary" id="saveSettingsBtn">Save Settings</button>
                    
                    <div style="margin-top: 30px; padding: 20px; background: rgba(0,0,0,0.3); border-radius: 10px;">
                        <h4>Data Management</h4>
                        <p>Export or import your tool data for backup or migration.</p>
                        
                        <div class="admin-actions">
                            <button class="btn btn-secondary" id="exportDataBtn">Export Data</button>
                            <button class="btn btn-secondary" id="importDataBtn">Import Data</button>
                            <button class="btn btn-danger" id="resetDataBtn">Reset All Data</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="admin-actions">
                <button class="btn btn-secondary" id="closeAdminBtn">Close Admin Panel</button>
            </div>
        </div>
    </div>

    <script>
        // Default tool data
        let availableTools = JSON.parse(localStorage.getItem('availableTools')) || [
            { 
                name: "WhatsApp Ban Tool Source Code", 
                desc: "Full Working WhatsApp Ban Tool Source Codes",
                accessKey: "DARK-TECH-ZONE",
                link: "https://www.mediafire.com/file/m2mm4ko9gzv1a17/bansoure.html/file",
                icon: "fab fa-whatsapp",
                iconType: "fa",
                category: "security",
                status: "active",
                accessCount: 0
            },
            { 
                name: "HTML Live Editor Source Code", 
                desc: "Edit Your Html Live",
                accessKey: "DARK-ZONE",
                link: "https://www.mediafire.com/file/4q7iz03lp2qy5t6/editorsource.html/file",
                icon: "fas fa-code",
                iconType: "fa",
                category: "development",
                status: "active",
                accessCount: 0
            },
            { 
                name: "Image Magic Tool Source Code", 
                desc: "Imagine your Image",
                accessKey: "DARK-ZONE",
                link: "https://www.mediafire.com/file/9ou0vbanppfxckg/imagemagicsource.html/file",
                icon: "fas fa-magic",
                iconType: "fa",
                category: "utilities",
                status: "active",
                accessCount: 0
            },
            { 
                name: "Sms Bomber Source Code", 
                desc: "Full Working Sms Bomber Source Code",
                accessKey: "DARK-ZONE",
                link: "https://www.mediafire.com/file/a3qlecq829wbu04/sms.html/file",
                icon: "fas fa-sms",
                iconType: "fa",
                category: "security",
                status: "active",
                accessCount: 0
            }
        ];
        
        let comingSoonTools = JSON.parse(localStorage.getItem('comingSoonTools')) || [
            { 
                name: "Video Downloader Pro", 
                desc: "Download videos from multiple platforms", 
                icon: "fas fa-download", 
                iconType: "fa",
                category: "utilities",
                status: "coming-soon"
            },
            { 
                name: "Audio Extractor", 
                desc: "Extract audio from any video file", 
                icon: "fas fa-music", 
                iconType: "fa",
                category: "utilities",
                status: "coming-soon"
            },
            { 
                name: "PDF Editor Tool", 
                desc: "Edit PDF documents online", 
                icon: "fas fa-file-pdf", 
                iconType: "fa",
                category: "utilities",
                status: "coming-soon"
            },
            { 
                name: "Password Generator", 
                desc: "Generate strong and secure passwords", 
                icon: "fas fa-key", 
                iconType: "fa",
                category: "security",
                status: "coming-soon"
            }
        ];
        
        // Website settings
        let websiteSettings = JSON.parse(localStorage.getItem('websiteSettings')) || {
            title: "DARK-TECH-ZONE",
            tagline: "Premium Tools with Advanced Security - Unlock with Individual Access Keys",
            primaryColor: "#6a11cb",
            secondaryColor: "#2575fc",
            whatsappURL: "https://whatsapp.com/channel/0029VbBPXH5J3jv6YXsgrL1t",
            adminKey: "DARK-TECH-ZONE",
            logo: {
                type: "fa",
                value: "fas fa-cog"
            },
            musicEnabled: true,
            totalViews: 0,
            totalClicks: 0,
            uniqueVisitors: 0,
            accessLogs: []
        };
        
        // Tool categories
        let toolCategories = JSON.parse(localStorage.getItem('toolCategories')) || [
            { id: "general", name: "General" },
            { id: "development", name: "Development" },
            { id: "security", name: "Security" },
            { id: "utilities", name: "Utilities" }
        ];
        
        // DOM Elements
        const availableToolsGrid = document.getElementById('availableTools');
        const comingSoonToolsGrid = document.getElementById('comingSoonTools');
        const modal = document.getElementById('accessModal');
        const keyInput = document.getElementById('accessKeyInput');
        const errorMessage = document.getElementById('errorMessage');
        const submitBtn = document.getElementById('submitBtn');
        const cancelBtn = document.getElementById('cancelBtn');
        const getKeyBtn = document.getElementById('getKeyBtn');
        const getKeyModalBtn = document.getElementById('getKeyModalBtn');
        const toolNameElement = document.getElementById('toolName');
        const adminPanel = document.getElementById('adminPanel');
        const adminTrigger = document.getElementById('adminTrigger');
        const closeAdminBtn = document.getElementById('closeAdminBtn');
        const adminTabs = document.querySelectorAll('.admin-tab');
        const adminSections = document.querySelectorAll('.admin-section');
        const websiteLogo = document.getElementById('websiteLogo');
        const websiteTitle = document.getElementById('websiteTitle');
        const websiteTagline = document.getElementById('websiteTagline');
        
        // Music player elements
        const musicPlayer = document.getElementById('musicPlayer');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const stopBtn = document.getElementById('stopBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const musicEnabledCheckbox = document.getElementById('musicEnabled');
        
        // Audio element for background music
        const backgroundMusic = new Audio('https://fak-h.jokerkeep057.workers.dev/QusfM');
        backgroundMusic.loop = true;
        backgroundMusic.volume = 0.5;
        
        let currentToolLink = '';
        let currentToolAccessKey = '';
        let currentToolIndex = -1;
        let clickCount = 0;
        let lastClickTime = 0;
        let selectedIconType = 'fa';
        let selectedFaIcon = 'fas fa-cog';
        let uploadedLogo = null;
        let isPlaying = false;
        
        // Font Awesome icon options
        const faIcons = [
            'fas fa-tools', 'fas fa-code', 'fas fa-cog', 'fas fa-magic', 'fas fa-lock', 
            'fas fa-key', 'fas fa-shield-alt', 'fas fa-download', 'fas fa-upload', 
            'fas fa-cloud', 'fas fa-server', 'fas fa-database', 'fas fa-network-wired',
            'fas fa-terminal', 'fas fa-desktop', 'fas fa-laptop', 'fas fa-mobile-alt',
            'fas fa-tablet-alt', 'fas fa-microchip', 'fas fa-memory', 'fas fa-hdd',
            'fas fa-bug', 'fas fa-virus', 'fas fa-shield-virus', 'fas fa-user-secret',
            'fas fa-mask', 'fas fa-fingerprint', 'fas fa-qrcode', 'fas fa-barcode',
            'fas fa-wifi', 'fas fa-bluetooth', 'fas fa-satellite', 'fas fa-rocket',
            'fas fa-robot', 'fas fa-android', 'fas fa-apple', 'fas fa-windows',
            'fas fa-linux', 'fas fa-chrome', 'fas fa-firefox', 'fas fa-edge',
            'fas fa-safari', 'fas fa-opera', 'fas fa-internet-explorer', 'fas fa-globe',
            'fas fa-link', 'fas fa-unlink', 'fas fa-external-link-alt', 'fas fa-paperclip',
            'fas fa-file', 'fas fa-file-code', 'fas fa-file-archive', 'fas fa-file-image',
            'fas fa-file-video', 'fas fa-file-audio', 'fas fa-file-contract', 'fas fa-file-signature',
            'fas fa-folder', 'fas fa-folder-open', 'fas fa-archive', 'fas fa-box', 'fas fa-cube',
            'fas fa-cubes', 'fas fa-pallet', 'fas fa-warehouse', 'fas fa-truck', 'fas fa-shipping-fast'
        ];
        
        // Initialize the website
        function initWebsite() {
            // Apply website settings
            document.title = websiteSettings.title + " | Premium Tools";
            websiteTitle.textContent = websiteSettings.title;
            websiteTagline.textContent = websiteSettings.tagline;
            
            // Apply color scheme
            document.documentElement.style.setProperty('--primary', websiteSettings.primaryColor);
            document.documentElement.style.setProperty('--secondary', websiteSettings.secondaryColor);
            
            // Set website logo
            setWebsiteLogo();
            
            // Generate tool cards
            generateToolCards();
            
            // Initialize admin panel
            initAdminPanel();
            
            // Initialize music player
            initMusicPlayer();
            
            // Track page view
            trackPageView();
        }
        
        // Track page view for analytics
        function trackPageView() {
            websiteSettings.totalViews++;
            
            // Check if this is a unique visitor
            let visitorId = localStorage.getItem('visitorId');
            if (!visitorId) {
                visitorId = 'visitor_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('visitorId', visitorId);
                websiteSettings.uniqueVisitors++;
            }
            
            // Save updated settings
            localStorage.setItem('websiteSettings', JSON.stringify(websiteSettings));
            
            // Update dashboard stats
            updateDashboardStats();
        }
        
        // Initialize music player
        function initMusicPlayer() {
            // Set initial volume
            backgroundMusic.volume = volumeSlider.value / 100;
            
            // Check if music is enabled
            if (!websiteSettings.musicEnabled) {
                musicPlayer.style.display = 'none';
                return;
            }
            
            // Try to play music on user interaction
            document.addEventListener('click', function startMusicOnInteraction() {
                if (websiteSettings.musicEnabled && !isPlaying) {
                    backgroundMusic.play().then(() => {
                        isPlaying = true;
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    }).catch(error => {
                        console.log('Audio play failed:', error);
                    });
                }
                document.removeEventListener('click', startMusicOnInteraction);
            });
            
            // Play/Pause button
            playPauseBtn.addEventListener('click', function() {
                if (isPlaying) {
                    backgroundMusic.pause();
                    isPlaying = false;
                    playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                } else {
                    backgroundMusic.play().then(() => {
                        isPlaying = true;
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    }).catch(error => {
                        console.log('Audio play failed:', error);
                    });
                }
            });
            
            // Stop button
            stopBtn.addEventListener('click', function() {
                backgroundMusic.pause();
                backgroundMusic.currentTime = 0;
                isPlaying = false;
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            });
            
            // Volume control
            volumeSlider.addEventListener('input', function() {
                backgroundMusic.volume = this.value / 100;
            });
        }
        
        // Set website logo based on settings
        function setWebsiteLogo() {
            if (websiteSettings.logo) {
                if (websiteSettings.logo.type === 'fa') {
                    // Use Font Awesome icon
                    websiteLogo.style.display = 'none';
                    // If we already have an icon element, remove it
                    const existingIcon = document.querySelector('.logo i');
                    if (existingIcon) existingIcon.remove();
                    
                    // Create and add the icon
                    const icon = document.createElement('i');
                    icon.className = websiteSettings.logo.value;
                    icon.style.fontSize = '3rem';
                    icon.style.color = 'var(--primary)';
                    websiteLogo.parentNode.insertBefore(icon, websiteLogo);
                } else if (websiteSettings.logo.type === 'image') {
                    // Use image
                    websiteLogo.src = websiteSettings.logo.value;
                    websiteLogo.style.display = 'block';
                    // Remove any existing icon
                    const existingIcon = document.querySelector('.logo i');
                    if (existingIcon) existingIcon.remove();
                }
            }
        }
        
        // Generate tool cards
        function generateToolCards() {
            // Clear existing cards
            availableToolsGrid.innerHTML = '';
            comingSoonToolsGrid.innerHTML = '';
            
            // Generate available tool cards (only active ones)
            const activeTools = availableTools.filter(tool => tool.status === 'active');
            activeTools.forEach((tool, index) => {
                const toolCard = createToolCard(tool, index, 'available');
                availableToolsGrid.appendChild(toolCard);
            });
            
            // Generate coming soon tool cards
            comingSoonTools.forEach((tool, index) => {
                const toolCard = createToolCard(tool, index, 'coming-soon');
                comingSoonToolsGrid.appendChild(toolCard);
            });
        }
        
        // Create a tool card
        function createToolCard(tool, index, type) {
            const toolCard = document.createElement('div');
            toolCard.className = type === 'coming-soon' ? 'tool-card coming-soon' : 'tool-card';
            toolCard.dataset.index = index;
            
            let iconHTML = '';
            if (tool.iconType === 'fa') {
                iconHTML = `<i class="${tool.icon || 'fas fa-tools'}"></i>`;
            } else if (tool.iconType === 'image') {
                iconHTML = `<img src="${tool.icon}" alt="${tool.name} Icon">`;
            } else {
                // Default to Font Awesome if type not specified
                iconHTML = `<i class="${tool.icon || 'fas fa-tools'}"></i>`;
            }
            
            const isAvailable = type === 'available';
            const statusText = isAvailable ? 'Access Key Required' : 'Tool Coming Soon';
            const buttonIcon = isAvailable ? 'fa-key' : 'fab fa-whatsapp';
            const buttonText = isAvailable ? 'Get Key' : 'Get Updates';
            
            toolCard.innerHTML = `
                <div class="tool-icon">
                    ${iconHTML}
                </div>
                <h3 class="tool-name">${tool.name}</h3>
                <p class="tool-desc">${tool.desc}</p>
                ${tool.category ? `<div class="tool-category">${getCategoryName(tool.category)}</div>` : ''}
                <div class="tool-footer">
                    <div class="tool-access">
                        <div class="access-indicator ${isAvailable ? '' : 'unlocked'}"></div>
                        <span>${statusText}</span>
                    </div>
                    <button class="btn btn-secondary get-tool-key">
                        <i class="${buttonIcon}"></i> ${buttonText}
                    </button>
                </div>
            `;
            
            // Add click event to show access modal or redirect to WhatsApp
            toolCard.addEventListener('click', (e) => {
                if (!e.target.closest('.get-tool-key')) {
                    if (isAvailable) {
                        currentToolLink = tool.link;
                        currentToolAccessKey = tool.accessKey;
                        currentToolIndex = index;
                        
                        // Update modal content
                        toolNameElement.textContent = `Please enter the access key for "${tool.name}":`;
                        
                        modal.style.display = 'flex';
                        keyInput.value = '';
                        errorMessage.style.display = 'none';
                        keyInput.focus();
                    } else {
                        window.location.href = websiteSettings.whatsappURL;
                    }
                }
                
                // Track click for analytics
                websiteSettings.totalClicks++;
                localStorage.setItem('websiteSettings', JSON.stringify(websiteSettings));
                updateDashboardStats();
            });
            
            // Add event to get key button
            const getKeyButton = toolCard.querySelector('.get-tool-key');
            getKeyButton.addEventListener('click', (e) => {
                e.stopPropagation();
                window.location.href = websiteSettings.whatsappURL;
            });
            
            return toolCard;
        }
        
        // Get category name by ID
        function getCategoryName(categoryId) {
            const category = toolCategories.find(cat => cat.id === categoryId);
            return category ? category.name : 'General';
        }
        
        // Initialize admin panel
        function initAdminPanel() {
            // Populate admin form fields
            document.getElementById('siteTitleInput').value = websiteSettings.title;
            document.getElementById('siteTaglineInput').value = websiteSettings.tagline;
            document.getElementById('whatsappLinkInput').value = websiteSettings.whatsappURL;
            document.getElementById('adminKeyInput').value = websiteSettings.adminKey;
            document.getElementById('musicEnabled').checked = websiteSettings.musicEnabled;
            
            // Set active color options
            document.querySelectorAll('.color-picker').forEach(picker => {
                const primaryOption = picker.querySelector(`[data-color="${websiteSettings.primaryColor}"]`);
                const secondaryOption = picker.querySelector(`[data-color="${websiteSettings.secondaryColor}"]`);
                
                if (primaryOption) primaryOption.classList.add('active');
                if (secondaryOption) secondaryOption.classList.add('active');
            });
            
            // Initialize icon management
            initIconManagement();
            
            // Update tool list in admin panel
            updateAdminToolList();
            
            // Initialize submenu functionality
            initAdminSubmenu();
            
            // Initialize categories
            updateCategoriesList();
            
            // Update dashboard stats
            updateDashboardStats();
        }
        
        // Initialize admin submenu functionality
        function initAdminSubmenu() {
            const submenuItems = document.querySelectorAll('.admin-submenu-item');
            const subsections = document.querySelectorAll('.admin-subsection');
            
            submenuItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all items and subsections
                    submenuItems.forEach(i => i.classList.remove('active'));
                    subsections.forEach(s => s.classList.remove('active'));
                    
                    // Add active class to clicked item and corresponding subsection
                    this.classList.add('active');
                    document.getElementById(`${this.dataset.subtab}-subsection`).classList.add('active');
                });
            });
        }
        
        // Initialize icon management section
        function initIconManagement() {
            // Populate Font Awesome icon selector
            const faIconSelector = document.getElementById('faIconSelector');
            faIconSelector.innerHTML = '';
            
            faIcons.forEach(icon => {
                const iconOption = document.createElement('div');
                iconOption.className = 'fa-icon-option';
                iconOption.dataset.icon = icon;
                iconOption.innerHTML = `<i class="${icon}"></i>`;
                
                if (websiteSettings.logo && websiteSettings.logo.type === 'fa' && websiteSettings.logo.value === icon) {
                    iconOption.classList.add('active');
                    selectedFaIcon = icon;
                }
                
                iconOption.addEventListener('click', function() {
                    document.querySelectorAll('.fa-icon-option').forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    selectedFaIcon = this.dataset.icon;
                    updateLogoPreview();
                });
                
                faIconSelector.appendChild(iconOption);
            });
            
            // Set up icon type selection
            document.querySelectorAll('.icon-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.icon-option').forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    selectedIconType = this.dataset.type;
                    
                    // Show/hide appropriate content
                    document.querySelectorAll('.icon-content').forEach(content => {
                        content.style.display = 'none';
                    });
                    document.getElementById(`${selectedIconType}-icon-content`).style.display = 'block';
                    
                    updateLogoPreview();
                });
            });
            
            // Set up logo upload
            const logoUploadArea = document.getElementById('logoUploadArea');
            const logoUploadInput = document.getElementById('logoUploadInput');
            
            logoUploadArea.addEventListener('click', () => {
                logoUploadInput.click();
            });
            
            logoUploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                logoUploadArea.style.borderColor = 'var(--primary)';
                logoUploadArea.style.background = 'rgba(106, 17, 203, 0.1)';
            });
            
            logoUploadArea.addEventListener('dragleave', () => {
                logoUploadArea.style.borderColor = 'rgba(255, 255, 255, 0.3)';
                logoUploadArea.style.background = 'transparent';
            });
            
            logoUploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                logoUploadArea.style.borderColor = 'rgba(255, 255, 255, 0.3)';
                logoUploadArea.style.background = 'transparent';
                
                if (e.dataTransfer.files.length > 0) {
                    handleLogoUpload(e.dataTransfer.files[0]);
                }
            });
            
            logoUploadInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleLogoUpload(e.target.files[0]);
                }
            });
            
            // Set up URL logo loading
            document.getElementById('loadLogoUrlBtn').addEventListener('click', () => {
                const url = document.getElementById('logoUrlInput').value.trim();
                if (url) {
                    uploadedLogo = url;
                    updateLogoPreview();
                }
            });
            
            // Initialize logo preview
            updateLogoPreview();
        }
        
        // Handle logo upload
        function handleLogoUpload(file) {
            if (!file.type.match('image.*')) {
                alert('Please select an image file.');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                alert('File size must be less than 5MB.');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                uploadedLogo = e.target.result;
                updateLogoPreview();
            };
            reader.readAsDataURL(file);
        }
        
        // Update logo preview
        function updateLogoPreview() {
            const preview = document.getElementById('websiteLogoPreview');
            preview.innerHTML = '';
            
            if (selectedIconType === 'fa') {
                const icon = document.createElement('i');
                icon.className = selectedFaIcon;
                preview.appendChild(icon);
            } else if (selectedIconType === 'upload' && uploadedLogo) {
                const img = document.createElement('img');
                img.src = uploadedLogo;
                preview.appendChild(img);
            } else if (selectedIconType === 'url') {
                const url = document.getElementById('logoUrlInput').value.trim();
                if (url) {
                    const img = document.createElement('img');
                    img.src = url;
                    preview.appendChild(img);
                } else {
                    const icon = document.createElement('i');
                    icon.className = 'fas fa-link';
                    preview.appendChild(icon);
                }
            } else {
                const icon = document.createElement('i');
                icon.className = 'fas fa-image';
                preview.appendChild(icon);
            }
        }
        
        // Update tool list in admin panel
        function updateAdminToolList() {
            const adminToolList = document.getElementById('adminToolList');
            adminToolList.innerHTML = '';
            
            // Add available tools
            availableTools.forEach((tool, index) => {
                const toolItem = createAdminToolItem(tool, index, 'available');
                adminToolList.appendChild(toolItem);
            });
            
            // Add coming soon tools
            comingSoonTools.forEach((tool, index) => {
                const toolItem = createAdminToolItem(tool, index, 'coming');
                adminToolList.appendChild(toolItem);
            });
            
            // Add search functionality
            const searchInput = document.getElementById('toolSearchInput');
            if (searchInput) {
                searchInput.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    const toolItems = adminToolList.querySelectorAll('.tool-item');
                    
                    toolItems.forEach(item => {
                        const toolName = item.querySelector('h4').textContent.toLowerCase();
                        if (toolName.includes(searchTerm)) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            }
        }
        
        // Create admin tool item
        function createAdminToolItem(tool, index, type) {
            const toolItem = document.createElement('div');
            toolItem.className = 'tool-item';
            toolItem.innerHTML = `
                <h4>${tool.name} 
                    ${tool.category ? `<span class="tool-category">${getCategoryName(tool.category)}</span>` : ''}
                    <span class="tool-status ${tool.status === 'active' ? 'status-active' : 'status-inactive'}">${tool.status}</span>
                </h4>
                <p>${tool.desc}</p>
                ${type === 'available' ? `<p><strong>Access Key:</strong> ${tool.accessKey}</p>` : ''}
                ${type === 'available' ? `<p><strong>Link:</strong> ${tool.link}</p>` : ''}
                <p><strong>Access Count:</strong> ${tool.accessCount || 0}</p>
                <div class="tool-position-controls">
                    <button class="position-btn move-up" data-index="${index}" data-type="${type}">
                        <i class="fas fa-arrow-up"></i>
                    </button>
                    <button class="position-btn move-down" data-index="${index}" data-type="${type}">
                        <i class="fas fa-arrow-down"></i>
                    </button>
                </div>
                <div class="tool-actions">
                    <button class="btn btn-primary btn-sm edit-tool" data-index="${index}" data-type="${type}">Edit</button>
                    ${type === 'coming' ? `<button class="btn btn-success btn-sm move-tool" data-index="${index}" data-type="${type}">Make Available</button>` : ''}
                    <button class="btn btn-danger btn-sm delete-tool" data-index="${index}" data-type="${type}">Delete</button>
                </div>
            `;
            
            // Add event listeners to tool actions
            const editBtn = toolItem.querySelector('.edit-tool');
            editBtn.addEventListener('click', function() {
                const index = parseInt(this.dataset.index);
                const type = this.dataset.type;
                editTool(index, type);
            });
            
            const deleteBtn = toolItem.querySelector('.delete-tool');
            deleteBtn.addEventListener('click', function() {
                const index = parseInt(this.dataset.index);
                const type = this.dataset.type;
                deleteTool(index, type);
            });
            
            if (type === 'coming') {
                const moveBtn = toolItem.querySelector('.move-tool');
                moveBtn.addEventListener('click', function() {
                    const index = parseInt(this.dataset.index);
                    moveToolToAvailable(index);
                });
            }
            
            // Add position control event listeners
            const moveUpBtn = toolItem.querySelector('.move-up');
            moveUpBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                const index = parseInt(this.dataset.index);
                const type = this.dataset.type;
                moveToolUp(index, type);
            });
            
            const moveDownBtn = toolItem.querySelector('.move-down');
            moveDownBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                const index = parseInt(this.dataset.index);
                const type = this.dataset.type;
                moveToolDown(index, type);
            });
            
            return toolItem;
        }
        
        // Move tool up in the list
        function moveToolUp(index, type) {
            const tools = type === 'available' ? availableTools : comingSoonTools;
            
            if (index > 0) {
                // Swap with previous tool
                [tools[index], tools[index - 1]] = [tools[index - 1], tools[index]];
                
                // Save and update
                saveData();
                updateAdminToolList();
                generateToolCards();
            }
        }
        
        // Move tool down in the list
        function moveToolDown(index, type) {
            const tools = type === 'available' ? availableTools : comingSoonTools;
            
            if (index < tools.length - 1) {
                // Swap with next tool
                [tools[index], tools[index + 1]] = [tools[index + 1], tools[index]];
                
                // Save and update
                saveData();
                updateAdminToolList();
                generateToolCards();
            }
        }
        
        // Edit tool function
        function editTool(index, type) {
            const tool = type === 'available' ? availableTools[index] : comingSoonTools[index];
            
            // Populate form with tool data
            document.getElementById('toolNameInput').value = tool.name;
            document.getElementById('toolDescInput').value = tool.desc;
            document.getElementById('toolKeyInput').value = tool.accessKey || '';
            document.getElementById('toolLinkInput').value = tool.link || '';
            document.getElementById('toolCategoryInput').value = tool.category || 'general';
            document.getElementById('isComingSoon').checked = type === 'coming';
            document.getElementById('isActive').checked = tool.status === 'active';
            
            // Change add button to update
            const addBtn = document.getElementById('addToolBtn');
            addBtn.textContent = 'Update Tool';
            addBtn.dataset.editIndex = index;
            addBtn.dataset.editType = type;
            
            // Switch to add tool subsection
            document.querySelectorAll('.admin-submenu-item').forEach(item => item.classList.remove('active'));
            document.querySelectorAll('.admin-subsection').forEach(section => section.classList.remove('active'));
            document.querySelector('[data-subtab="add-tool"]').classList.add('active');
            document.getElementById('add-tool-subsection').classList.add('active');
        }
        
        // Delete tool function
        function deleteTool(index, type) {
            if (confirm('Are you sure you want to delete this tool?')) {
                if (type === 'available') {
                    availableTools.splice(index, 1);
                    localStorage.setItem('availableTools', JSON.stringify(availableTools));
                } else {
                    comingSoonTools.splice(index, 1);
                    localStorage.setItem('comingSoonTools', JSON.stringify(comingSoonTools));
                }
                
                updateAdminToolList();
                generateToolCards();
                updateDashboardStats();
            }
        }
        
        // Move tool to available
        function moveToolToAvailable(index) {
            const tool = comingSoonTools[index];
            tool.accessKey = tool.accessKey || 'DARK-ZONE';
            tool.link = tool.link || '#';
            tool.status = 'active';
            tool.accessCount = 0;
            
            availableTools.push(tool);
            comingSoonTools.splice(index, 1);
            
            localStorage.setItem('availableTools', JSON.stringify(availableTools));
            localStorage.setItem('comingSoonTools', JSON.stringify(comingSoonTools));
            
            updateAdminToolList();
            generateToolCards();
            updateDashboardStats();
        }
        
        // Update categories list
        function updateCategoriesList() {
            const categoriesList = document.getElementById('categoriesList');
            if (!categoriesList) return;
            
            categoriesList.innerHTML = '';
            
            toolCategories.forEach((category, index) => {
                const categoryItem = document.createElement('div');
                categoryItem.className = 'tool-item';
                categoryItem.innerHTML = `
                    <h4>${category.name} <span class="tool-category">${category.id}</span></h4>
                    <div class="tool-actions">
                        <button class="btn btn-danger btn-sm delete-category" data-index="${index}">Delete</button>
                    </div>
                `;
                
                categoriesList.appendChild(categoryItem);
            });
            
            // Add event listeners to delete buttons
            document.querySelectorAll('.delete-category').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.dataset.index);
                    deleteCategory(index);
                });
            });
        }
        
        // Delete category
        function deleteCategory(index) {
            if (toolCategories.length <= 1) {
                alert('You must have at least one category.');
                return;
            }
            
            const category = toolCategories[index];
            
            // Check if any tools are using this category
            const toolsUsingCategory = [...availableTools, ...comingSoonTools].filter(tool => tool.category === category.id);
            
            if (toolsUsingCategory.length > 0) {
                alert(`Cannot delete category "${category.name}" because it is used by ${toolsUsingCategory.length} tool(s). Please reassign those tools first.`);
                return;
            }
            
            if (confirm(`Are you sure you want to delete the category "${category.name}"?`)) {
                toolCategories.splice(index, 1);
                localStorage.setItem('toolCategories', JSON.stringify(toolCategories));
                updateCategoriesList();
            }
        }
        
        // Update dashboard statistics
        function updateDashboardStats() {
            document.getElementById('totalTools').textContent = availableTools.length + comingSoonTools.length;
            document.getElementById('activeTools').textContent = availableTools.filter(tool => tool.status === 'active').length;
            document.getElementById('comingSoonToolsCount').textContent = comingSoonTools.length;
            document.getElementById('totalAccesses').textContent = availableTools.reduce((sum, tool) => sum + (tool.accessCount || 0), 0);
            
            document.getElementById('totalViews').textContent = websiteSettings.totalViews;
            document.getElementById('totalClicks').textContent = websiteSettings.totalClicks;
            document.getElementById('uniqueVisitors').textContent = websiteSettings.uniqueVisitors;
            
            // Calculate conversion rate (clicks per view)
            const conversionRate = websiteSettings.totalViews > 0 ? 
                ((websiteSettings.totalClicks / websiteSettings.totalViews) * 100).toFixed(1) : 0;
            document.getElementById('conversionRate').textContent = conversionRate + '%';
            
            // Update access log
            updateAccessLog();
            
            // Update popular tools
            updatePopularTools();
        }
        
        // Update access log display
        function updateAccessLog() {
            const accessLog = document.getElementById('accessLog');
            if (!accessLog) return;
            
            accessLog.innerHTML = '';
            
            // Get recent access logs (last 10)
            const recentLogs = websiteSettings.accessLogs.slice(-10).reverse();
            
            if (recentLogs.length === 0) {
                accessLog.innerHTML = '<p>No access logs yet.</p>';
                return;
            }
            
            recentLogs.forEach(log => {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.innerHTML = `
                    <div>${log.toolName}</div>
                    <div>${new Date(log.timestamp).toLocaleString()}</div>
                `;
                accessLog.appendChild(logEntry);
            });
        }
        
        // Update popular tools list
        function updatePopularTools() {
            const popularToolsList = document.getElementById('popularToolsList');
            if (!popularToolsList) return;
            
            // Sort tools by access count
            const sortedTools = [...availableTools].sort((a, b) => (b.accessCount || 0) - (a.accessCount || 0));
            
            popularToolsList.innerHTML = '';
            
            // Show top 5 popular tools
            sortedTools.slice(0, 5).forEach(tool => {
                const toolItem = document.createElement('div');
                toolItem.className = 'tool-item';
                toolItem.innerHTML = `
                    <h4>${tool.name}</h4>
                    <p>Access Count: ${tool.accessCount || 0}</p>
                `;
                popularToolsList.appendChild(toolItem);
            });
        }
        
        // Save data to localStorage
        function saveData() {
            localStorage.setItem('availableTools', JSON.stringify(availableTools));
            localStorage.setItem('comingSoonTools', JSON.stringify(comingSoonTools));
            localStorage.setItem('websiteSettings', JSON.stringify(websiteSettings));
            localStorage.setItem('toolCategories', JSON.stringify(toolCategories));
        }
        
        // Event Listeners
        document.addEventListener('DOMContentLoaded', initWebsite);
        
        // Submit access key
        submitBtn.addEventListener('click', () => {
            const enteredKey = keyInput.value.trim();
            
            if (enteredKey === currentToolAccessKey) {
                // Add https:// if not present
                let url = currentToolLink;
                if (!url.startsWith('http')) {
                    url = 'https://' + url;
                }
                
                // Track tool access
                if (currentToolIndex >= 0) {
                    availableTools[currentToolIndex].accessCount = (availableTools[currentToolIndex].accessCount || 0) + 1;
                    
                    // Add to access log
                    websiteSettings.accessLogs.push({
                        toolName: availableTools[currentToolIndex].name,
                        timestamp: Date.now()
                    });
                    
                    // Keep only last 100 logs
                    if (websiteSettings.accessLogs.length > 100) {
                        websiteSettings.accessLogs = websiteSettings.accessLogs.slice(-100);
                    }
                    
                    saveData();
                    updateDashboardStats();
                }
                
                window.location.href = url;
            } else {
                errorMessage.style.display = 'block';
                keyInput.focus();
                keyInput.select();
            }
        });
        
        // Cancel access modal
        cancelBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });
        
        // Get key buttons
        getKeyBtn.addEventListener('click', () => {
            window.location.href = websiteSettings.whatsappURL;
        });
        
        getKeyModalBtn.addEventListener('click', () => {
            window.location.href = websiteSettings.whatsappURL;
        });
        
        // Allow Enter key to submit
        keyInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitBtn.click();
            }
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });
        
        // Admin panel trigger (click logo 5 times)
        adminTrigger.addEventListener('click', () => {
            const currentTime = new Date().getTime();
            
            if (currentTime - lastClickTime > 1000) {
                clickCount = 0;
            }
            
            clickCount++;
            lastClickTime = currentTime;
            
            if (clickCount >= 5) {
                // Show admin access modal
                const adminKey = prompt('Enter Admin Access Key:');
                if (adminKey === websiteSettings.adminKey) {
                    adminPanel.style.display = 'block';
                    clickCount = 0;
                    updateDashboardStats();
                } else {
                    alert('Invalid admin access key!');
                    clickCount = 0;
                }
            }
        });
        
        // Close admin panel
        closeAdminBtn.addEventListener('click', () => {
            adminPanel.style.display = 'none';
        });
        
        // Admin tab switching
        adminTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and sections
                adminTabs.forEach(t => t.classList.remove('active'));
                adminSections.forEach(s => s.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding section
                tab.classList.add('active');
                document.getElementById(`${tab.dataset.tab}-section`).classList.add('active');
                
                // Update dashboard when switching to dashboard tab
                if (tab.dataset.tab === 'dashboard') {
                    updateDashboardStats();
                }
            });
        });
        
        // Color picker functionality
        document.querySelectorAll('.color-option').forEach(option => {
            option.addEventListener('click', function() {
                const picker = this.parentElement;
                picker.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Add/Update tool
        document.getElementById('addToolBtn').addEventListener('click', () => {
            const name = document.getElementById('toolNameInput').value.trim();
            const desc = document.getElementById('toolDescInput').value.trim();
            const key = document.getElementById('toolKeyInput').value.trim();
            const link = document.getElementById('toolLinkInput').value.trim();
            const category = document.getElementById('toolCategoryInput').value;
            const isComingSoon = document.getElementById('isComingSoon').checked;
            const isActive = document.getElementById('isActive').checked;
            
            if (!name || !desc) {
                alert('Tool name and description are required!');
                return;
            }
            
            const addBtn = document.getElementById('addToolBtn');
            
            if (addBtn.dataset.editIndex !== undefined) {
                // Update existing tool
                const index = parseInt(addBtn.dataset.editIndex);
                const type = addBtn.dataset.editType;
                
                if (type === 'available') {
                    availableTools[index].name = name;
                    availableTools[index].desc = desc;
                    availableTools[index].accessKey = key;
                    availableTools[index].link = link;
                    availableTools[index].category = category;
                    availableTools[index].status = isActive ? 'active' : 'inactive';
                    
                    if (isComingSoon) {
                        // Move to coming soon
                        comingSoonTools.push(availableTools[index]);
                        availableTools.splice(index, 1);
                    }
                } else {
                    comingSoonTools[index].name = name;
                    comingSoonTools[index].desc = desc;
                    comingSoonTools[index].category = category;
                    
                    if (!isComingSoon) {
                        // Move to available
                        availableTools.push({
                            name: name,
                            desc: desc,
                            accessKey: key || 'DARK-ZONE',
                            link: link || '#',
                            icon: 'fas fa-tools',
                            iconType: 'fa',
                            category: category,
                            status: isActive ? 'active' : 'inactive',
                            accessCount: 0
                        });
                        comingSoonTools.splice(index, 1);
                    }
                }
                
                // Reset edit mode
                addBtn.textContent = 'Add Tool';
                delete addBtn.dataset.editIndex;
                delete addBtn.dataset.editType;
            } else {
                // Add new tool
                const newTool = {
                    name: name,
                    desc: desc,
                    accessKey: key || 'DARK-ZONE',
                    link: link || '#',
                    icon: 'fas fa-tools',
                    iconType: 'fa',
                    category: category,
                    status: isActive ? 'active' : 'inactive',
                    accessCount: 0
                };
                
                if (isComingSoon) {
                    comingSoonTools.push(newTool);
                } else {
                    availableTools.push(newTool);
                }
            }
            
            // Clear form
            document.getElementById('toolNameInput').value = '';
            document.getElementById('toolDescInput').value = '';
            document.getElementById('toolKeyInput').value = '';
            document.getElementById('toolLinkInput').value = '';
            document.getElementById('isComingSoon').checked = false;
            document.getElementById('isActive').checked = true;
            
            // Save and update
            saveData();
            updateAdminToolList();
            generateToolCards();
            updateDashboardStats();
        });
        
        // Add category
        document.getElementById('addCategoryBtn').addEventListener('click', () => {
            const name = document.getElementById('newCategoryInput').value.trim();
            
            if (!name) {
                alert('Category name is required!');
                return;
            }
            
            // Check if category already exists
            const id = name.toLowerCase().replace(/\s+/g, '-');
            if (toolCategories.some(cat => cat.id === id)) {
                alert('Category already exists!');
                return;
            }
            
            toolCategories.push({ id, name });
            localStorage.setItem('toolCategories', JSON.stringify(toolCategories));
            
            // Update categories list and category dropdown
            updateCategoriesList();
            
            // Add to category dropdown
            const categorySelect = document.getElementById('toolCategoryInput');
            const option = document.createElement('option');
            option.value = id;
            option.textContent = name;
            categorySelect.appendChild(option);
            
            // Clear input
            document.getElementById('newCategoryInput').value = '';
        });
        
        // Save customization
        document.getElementById('saveCustomizationBtn').addEventListener('click', () => {
            websiteSettings.title = document.getElementById('siteTitleInput').value.trim() || websiteSettings.title;
            websiteSettings.tagline = document.getElementById('siteTaglineInput').value.trim() || websiteSettings.tagline;
            
            // Get selected colors
            const primaryColor = document.querySelector('#customize-section .color-picker:first-child .color-option.active').dataset.color;
            const secondaryColor = document.querySelector('#customize-section .color-picker:last-child .color-option.active').dataset.color;
            
            websiteSettings.primaryColor = primaryColor;
            websiteSettings.secondaryColor = secondaryColor;
            
            saveData();
            initWebsite();
            alert('Customization saved successfully!');
        });
        
        // Save logo
        document.getElementById('saveLogoBtn').addEventListener('click', () => {
            if (selectedIconType === 'fa') {
                websiteSettings.logo = {
                    type: 'fa',
                    value: selectedFaIcon
                };
            } else if (selectedIconType === 'upload' && uploadedLogo) {
                websiteSettings.logo = {
                    type: 'image',
                    value: uploadedLogo
                };
            } else if (selectedIconType === 'url') {
                const url = document.getElementById('logoUrlInput').value.trim();
                if (url) {
                    websiteSettings.logo = {
                        type: 'image',
                        value: url
                    };
                } else {
                    alert('Please enter a valid image URL');
                    return;
                }
            } else {
                alert('Please select a logo option');
                return;
            }
            
            saveData();
            setWebsiteLogo();
            alert('Logo saved successfully!');
        });
        
        // Save settings
        document.getElementById('saveSettingsBtn').addEventListener('click', () => {
            const newAdminKey = document.getElementById('adminKeyInput').value.trim();
            const newWhatsappURL = document.getElementById('whatsappLinkInput').value.trim();
            const musicEnabled = document.getElementById('musicEnabled').checked;
            
            if (newAdminKey) {
                websiteSettings.adminKey = newAdminKey;
            }
            
            if (newWhatsappURL) {
                websiteSettings.whatsappURL = newWhatsappURL;
            }
            
            websiteSettings.musicEnabled = musicEnabled;
            
            // Show/hide music player based on setting
            musicPlayer.style.display = musicEnabled ? 'flex' : 'none';
            
            saveData();
            alert('Settings saved successfully!');
        });
        
        // Export data
        document.getElementById('exportDataBtn').addEventListener('click', () => {
            const data = {
                availableTools: availableTools,
                comingSoonTools: comingSoonTools,
                websiteSettings: websiteSettings,
                toolCategories: toolCategories
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const url = URL.createObjectURL(dataBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'dark-tech-zone-data.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });
        
        // Import data
        document.getElementById('importDataBtn').addEventListener('click', () => {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(event) {
                    try {
                        const data = JSON.parse(event.target.result);
                        
                        if (data.availableTools && data.comingSoonTools && data.websiteSettings) {
                            if (confirm('This will replace all current data. Continue?')) {
                                availableTools = data.availableTools;
                                comingSoonTools = data.comingSoonTools;
                                websiteSettings = data.websiteSettings;
                                toolCategories = data.toolCategories || toolCategories;
                                
                                saveData();
                                initWebsite();
                                initAdminPanel();
                                alert('Data imported successfully!');
                            }
                        } else {
                            alert('Invalid data file!');
                        }
                    } catch (error) {
                        alert('Error reading file: ' + error.message);
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        });
        
        // Reset data
        document.getElementById('resetDataBtn').addEventListener('click', () => {
            if (confirm('This will reset ALL data to defaults. This action cannot be undone. Continue?')) {
                localStorage.clear();
                location.reload();
            }
        });
    </script>
</body>
</html>
